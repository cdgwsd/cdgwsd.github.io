---
title: MyBatis 简介
tags:
  - MyBatis
categories:
  - MyBatis
date: 2024-03-15 14:00:08
---
MyBatis 是一款优秀的持久层框架，它支持自定义 SQL、存储过程以及高级映射。MyBatis 免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作。MyBatis 可以通过简单的 XML 或注解来配置和映射原始类型、接口和 Java POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录

## 出现背景

> 传统的 JDBC 太过复杂，Mybatis 框架就是为了实现对其的简化和自动化

传统 JDBC 操作数据库过程如下图所示：

![image-20240315142249705](https://cdgwsd.oss-cn-guangzhou.aliyuncs.com/img/202403151628125.png)

JDBC 操作数据库有以下问题：

- **繁琐样板代码**：使用 JDBC 进行数据库操作通常需要编写大量的样板代码，包括加载驱动程序、获取连接、创建语句对象、执行 SQL、处理结果集等。这些代码重复性高，不仅增加了开发者的工作量，也增加了代码的维护成本
- **SQL 与 Java 代码耦合**：在 JDBC 中，SQL 语句通常直接硬编码在 Java 代码中，这导致了 SQL 与 Java 代码的耦合度过高。当 SQL 语句需要修改时，可能需要同时修改 Java 代码，增加了维护的难度
- **缺乏对象关系映射（ORM）支持**：JDBC 本身只提供了基本的数据库访问功能，不提供对象和数据库记录之间的映射，开发者需要自行编写代码来处理对象与数据库记录的转换，增加了开发的复杂度
- **性能问题**：JDBC 中的预编译语句（Prepared Statement）可以提高性能，但仍然无法完全解决 SQL 执行效率低下的问题。特别是对于复杂查询或大数据量操作，可能存在性能瓶颈

## 特点

MyBatis 是一种流行的持久层框架，它结合了传统的 SQL 数据库访问方法和对象关系映射（ORM）的优点。以下是 MyBatis 的一些主要特点：

1. **简化的 SQL 开发**：
   - MyBatis 将 SQL 语句与 Java 代码分离，使得 SQL 的编写更加清晰和简单
   - 开发者可以在 XML 文件或者使用注解的方式定义 SQL 语句，而不必将 SQL 直接硬编码到 Java 代码中
2. **灵活性**：
   - MyBatis 不强制使用对象关系映射（ORM）规则，开发者可以编写原生的 SQL 语句，从而更加灵活地控制数据库访问
   - 支持复杂的 SQL 查询和操作，可以满足各种需求
3. **强大的映射能力**：
   - MyBatis 提供了丰富的映射能力，可以将查询结果映射为任意的 Java 对象或基本数据类型
   - 支持复杂的关联关系映射，可以将多个数据库表的数据映射为 Java 对象的属性
4. **缓存机制**：
   - MyBatis 提供了多级缓存机制，可以有效地减少对数据库的访问次数，提升查询性能
   - 支持在查询语句上配置缓存，可以根据需求灵活地控制缓存的使用
5. **事务管理**：
   - MyBatis 提供了灵活的事务管理机制，可以通过编程方式或者声明式方式管理事务
   - 支持多种事务管理器，包括 JDBC、Spring 等
6. **可扩展性**：
   - MyBatis 提供了丰富的插件机制，开发者可以编写自定义的插件来扩展框架的功能
   - 支持自定义类型处理器、拦截器等，可以满足不同项目的特定需求
7. **与现有技术的无缝集成**：
   - MyBatis 与传统的 JDBC、Spring 等技术无缝集成，可以与现有的项目或框架配合使用
   - 提供了与 Spring 框架的集成模块，方便在 Spring 项目中使用 MyBatis
